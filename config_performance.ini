# 性能优化配置文件
# 用于提升生产环境性能

[persistence]
# 启用持久化
enable_persistence = true

# 数据库路径
db_path = ./data

# 异步模式 (推荐)
async_mode = true

# 缓冲区大小 (更大的缓冲区 = 更好的批量效果)
buffer_size = 10000

# 刷新间隔 (毫秒)
# 值越大，吞吐量越高，但数据丢失风险越大
flush_interval_ms = 100

[logging]
# 日志级别: DEBUG, INFO, WARN, ERROR, CRITICAL
# 推荐生产环境使用 WARN 或 ERROR
log_level = WARN

# 日志文件路径 (空字符串表示只输出到控制台)
log_file = 

[rate_limit]
# 全局速率限制 (orders/second)
# 设置为0表示禁用
global_orders_per_second = 10000

# 突发大小
burst_size = 20000

# 每用户速率限制
per_user_orders_per_second = 1000

# 每用户突发大小
per_user_burst_size = 2000

[validation]
# 验证级别: MINIMAL, STANDARD, STRICT
# MINIMAL: 只做基本验证
# STANDARD: 标准验证 (推荐)
# STRICT: 完整验证 (当前默认)
validation_level = STANDARD

# 是否检查余额
check_balance = true

# 是否检查仓位限制
check_position_limit = true

# 是否验证订单格式
validate_order_format = true

[metrics]
# 指标收集采样率 (0.0 - 1.0)
# 1.0 = 100% 收集，0.1 = 10% 采样
sampling_rate = 0.1

# 是否启用详细指标
detailed_metrics = false

[performance]
# 批量处理大小
batch_size = 100

# 是否使用内存池
use_memory_pool = true

# 是否启用零拷贝
zero_copy = false

[monitoring]
# 健康检查间隔 (秒)
health_check_interval = 60

# 是否启用性能监控
enable_performance_monitoring = true

